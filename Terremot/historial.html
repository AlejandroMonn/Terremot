<!DOCTYPE html>
<html>
<head>
    <title>History</title>
    <link rel="stylesheet" href="estilos.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body onload="cargarHistorial()">
    <center>
        <h1>ðŸ“œ Last convertions ðŸ“œ</h1>
        <div id="lista-historial" style="background: white; width: 80%; padding: 20px; text-align: left;">
            loading...
        </div>
        <br>
        <button class="btn-grande" style="width: 200px;" onclick="window.location.href='index.html'">Volver al Mapa</button>
    </center>

    <script>
        
        var supabaseUrl = '';
        var supabaseKey = '';
        var _supabase = supabase.createClient(supabaseUrl, supabaseKey);

        async function cargarHistorial() {
            const { data, error } = await _supabase
                .from('historial_monedas')
                .select('*')
                .order('id', { ascending: false })
                .limit(10);

            if (error) {
                document.getElementById("lista-historial").innerText = "Error loading.";
            } else {
                var html = "<ul>";
                data.forEach(function(item) {
                    html += "<li>" + item.descripcion + "</li>";
                });
                html += "</ul>";
                document.getElementById("lista-historial").innerHTML = html;
            }
        }
        <br><br><br>
    
    <div class="footer">
        <p><b>Terremot</b></p>
        <p>made 100% by a human called: <b>[Alejandro montoya]</b></p>
        <p>VersiÃ³n 1.0</p>
        <p style="font-size: 10px;">powered by Supabase and ExchangeRate-API</p>
    </div>
    </script>
</body>
</html>
